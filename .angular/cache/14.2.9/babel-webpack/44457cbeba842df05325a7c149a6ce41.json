{"ast":null,"code":"import { Library } from 'src/app/core/library';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/authentication/auth.service\";\nimport * as i3 from \"src/app/core/services/private.service\";\nimport * as i4 from \"src/app/core/services/api.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\n\nfunction AddAddressComponent_option_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const country_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", country_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(country_r9.name);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/\"];\n};\n\nconst _c1 = function () {\n  return [\"/account\"];\n};\n\nconst _c2 = function () {\n  return [\"/account/addresses\"];\n};\n\nexport let AddAddressComponent = /*#__PURE__*/(() => {\n  class AddAddressComponent {\n    constructor(router, route, authService, privateService, apiService) {\n      this.router = router;\n      this.route = route;\n      this.authService = authService;\n      this.privateService = privateService;\n      this.apiService = apiService;\n      this.address = {\n        label: 'My address'\n      };\n      this.selectedCountry = {};\n      this.countries = [];\n    }\n\n    ngOnInit() {\n      this.sub = this.route.params.subscribe(params => {\n        const id = params['id'];\n\n        if (id) {\n          this.address = this.privateService.getAddress(id);\n          this.apiService.getCountries().subscribe(countries => {\n            this.countries = countries;\n            this.selectedCountry = this.countries.filter(f => f.id === this.address.countryId)[0];\n          });\n        } else {\n          this.address = {};\n          this.apiService.getCountries().subscribe(countries => {\n            this.countries = countries;\n            this.selectedCountry = this.countries.filter(f => f.id === Library.currentCountryId)[0];\n          });\n        }\n      });\n    }\n\n    save(addressBean) {\n      addressBean.countryId = this.selectedCountry.id;\n      addressBean.countryName = this.selectedCountry.name;\n      this.privateService.createUpdateAddress(addressBean).subscribe(address => {\n        this.address = address;\n        this.router.navigate(['/account/addresses']);\n        this.authService.showAlert({\n          type: 'success',\n          msg: 'Address added'\n        });\n      });\n    }\n\n  }\n\n  AddAddressComponent.ɵfac = function AddAddressComponent_Factory(t) {\n    return new (t || AddAddressComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.PrivateService), i0.ɵɵdirectiveInject(i4.ApiService));\n  };\n\n  AddAddressComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddAddressComponent,\n    selectors: [[\"app-add-address\"]],\n    decls: 115,\n    vars: 27,\n    consts: [[1, \"row\"], [1, \"breadcrumbDiv\", \"col-lg-12\"], [1, \"breadcrumb\"], [3, \"routerLink\"], [1, \"active\"], [1, \"container\"], [1, \"col-12\"], [1, \"section-title-inner\"], [1, \"fa\", \"fa-map-marker\", \"mr-2\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"addressForm\", \"ngForm\"], [1, \"block-title-2\"], [1, \"required\"], [\"name\", \"id\", \"type\", \"hidden\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"ngModel\"], [1, \"col-lg-12\", \"col-xs-12\", \"col-sm-12\"], [1, \"form-group\", \"required\"], [\"for\", \"addressLabel\"], [1, \"has-error\", 3, \"hidden\"], [\"type\", \"text\", \"value\", \"My address\", \"name\", \"label\", \"id\", \"addressLabel\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"label\", \"ngModel\"], [1, \"col-lg-6\", \"col-xs-6\", \"col-sm-12\"], [\"for\", \"InputName\"], [\"name\", \"name\", \"type\", \"text\", \"id\", \"InputName\", \"placeholder\", \"First Name, Last Name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"for\", \"InputAddress\"], [\"name\", \"address1\", \"type\", \"text\", \"id\", \"InputAddress\", \"placeholder\", \"Address\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"address1\", \"ngModel\"], [1, \"form-group\"], [\"for\", \"InputAddress2\"], [\"name\", \"address2\", \"type\", \"text\", \"id\", \"InputAddress2\", \"placeholder\", \"Address 2\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"InputCity\"], [\"name\", \"city\", \"type\", \"text\", \"id\", \"InputCity\", \"placeholder\", \"City\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"city\", \"ngModel\"], [\"for\", \"InputZip\"], [\"name\", \"postal\", \"type\", \"text\", \"id\", \"InputZip\", \"placeholder\", \"Postal\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"postal\", \"ngModel\"], [\"for\", \"InputCountry\"], [\"name\", \"selectedCountry\", \"id\", \"InputCountry\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"InputMobile\"], [\"type\", \"tel\", \"name\", \"phone\", \"id\", \"InputMobile\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"phone\", \"ngModel\"], [1, \"col-lg-12\", \"col-xs-12\", \"clearfix\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"col-lg-12\", \"my-2\", \"clearfix\"], [1, \"contentFooter\", \"list-inline\"], [1, \"previous\", \"pull-right\"], [1, \"fa\", \"fa-home\", \"mr-2\"], [1, \"next\", \"pull-left\"], [1, \"fa\", \"fa-arrow-left\", \"mr-2\"], [3, \"ngValue\"]],\n    template: function AddAddressComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r10 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"ul\", 2)(3, \"li\")(4, \"a\", 3);\n        i0.ɵɵtext(5, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"li\")(7, \"a\", 3);\n        i0.ɵɵtext(8, \"Account\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"li\")(10, \"a\", 3);\n        i0.ɵɵtext(11, \"Addresses\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"li\", 4);\n        i0.ɵɵtext(13, \" Add address\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(14, \"div\", 5)(15, \"div\", 0)(16, \"div\", 6)(17, \"h1\", 7)(18, \"span\");\n        i0.ɵɵelement(19, \"i\", 8);\n        i0.ɵɵtext(20, \"Add address\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"form\", 9, 10);\n        i0.ɵɵlistener(\"ngSubmit\", function AddAddressComponent_Template_form_ngSubmit_21_listener() {\n          i0.ɵɵrestoreView(_r10);\n\n          const _r0 = i0.ɵɵreference(22);\n\n          return i0.ɵɵresetView(ctx.save(_r0.value));\n        });\n        i0.ɵɵelementStart(23, \"div\", 0)(24, \"div\", 6)(25, \"h2\", 11);\n        i0.ɵɵtext(26, \" Fill in this form\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"p\", 12)(28, \"sup\");\n        i0.ɵɵtext(29, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(30, \" Mandatory\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"input\", 13, 14);\n        i0.ɵɵlistener(\"ngModelChange\", function AddAddressComponent_Template_input_ngModelChange_31_listener($event) {\n          return ctx.address.id = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 15)(34, \"div\", 16)(35, \"label\", 17);\n        i0.ɵɵtext(36, \"Address Label\");\n        i0.ɵɵelementStart(37, \"sup\");\n        i0.ɵɵtext(38, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"em\", 18);\n        i0.ɵɵtext(40, \"Label is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"input\", 19, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function AddAddressComponent_Template_input_ngModelChange_41_listener($event) {\n          return ctx.address.label = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(43, \"div\", 21)(44, \"div\", 16)(45, \"label\", 22);\n        i0.ɵɵtext(46, \"Your First Name, Last Name\");\n        i0.ɵɵelementStart(47, \"sup\");\n        i0.ɵɵtext(48, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(49, \"em\", 18);\n        i0.ɵɵtext(50, \"Your name is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"input\", 23, 24);\n        i0.ɵɵlistener(\"ngModelChange\", function AddAddressComponent_Template_input_ngModelChange_51_listener($event) {\n          return ctx.address.name = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(53, \"div\", 16)(54, \"label\", 25);\n        i0.ɵɵtext(55, \"Address \");\n        i0.ɵɵelementStart(56, \"sup\");\n        i0.ɵɵtext(57, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(58, \"em\", 18);\n        i0.ɵɵtext(59, \"Your address is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"input\", 26, 27);\n        i0.ɵɵlistener(\"ngModelChange\", function AddAddressComponent_Template_input_ngModelChange_60_listener($event) {\n          return ctx.address.address1 = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(62, \"div\", 28)(63, \"label\", 29);\n        i0.ɵɵtext(64, \"Address 2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"input\", 30);\n        i0.ɵɵlistener(\"ngModelChange\", function AddAddressComponent_Template_input_ngModelChange_65_listener($event) {\n          return ctx.address.address2 = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(66, \"div\", 21)(67, \"div\", 16)(68, \"label\", 31);\n        i0.ɵɵtext(69, \"City \");\n        i0.ɵɵelementStart(70, \"sup\");\n        i0.ɵɵtext(71, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(72, \"em\", 18);\n        i0.ɵɵtext(73, \"Your city is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"input\", 32, 33);\n        i0.ɵɵlistener(\"ngModelChange\", function AddAddressComponent_Template_input_ngModelChange_74_listener($event) {\n          return ctx.address.city = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(76, \"div\", 16)(77, \"label\", 34);\n        i0.ɵɵtext(78, \"Postal \");\n        i0.ɵɵelementStart(79, \"sup\");\n        i0.ɵɵtext(80, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(81, \"em\", 18);\n        i0.ɵɵtext(82, \"Your postal is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(83, \"input\", 35, 36);\n        i0.ɵɵlistener(\"ngModelChange\", function AddAddressComponent_Template_input_ngModelChange_83_listener($event) {\n          return ctx.address.postal = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(85, \"div\", 16)(86, \"label\", 37);\n        i0.ɵɵtext(87, \"Country \");\n        i0.ɵɵelementStart(88, \"sup\");\n        i0.ɵɵtext(89, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(90, \"select\", 38);\n        i0.ɵɵlistener(\"ngModelChange\", function AddAddressComponent_Template_select_ngModelChange_90_listener($event) {\n          return ctx.selectedCountry = $event;\n        });\n        i0.ɵɵtemplate(91, AddAddressComponent_option_91_Template, 2, 2, \"option\", 39);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(92, \"div\", 16)(93, \"label\", 40);\n        i0.ɵɵtext(94, \"Phone \");\n        i0.ɵɵelementStart(95, \"sup\");\n        i0.ɵɵtext(96, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(97, \"em\", 18);\n        i0.ɵɵtext(98, \"Phone is mandatory for delivery\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(99, \"input\", 41, 42);\n        i0.ɵɵlistener(\"ngModelChange\", function AddAddressComponent_Template_input_ngModelChange_99_listener($event) {\n          return ctx.address.phone = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(101, \"div\", 43)(102, \"button\", 44);\n        i0.ɵɵelement(103, \"i\", 8);\n        i0.ɵɵtext(104, \" Save \");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(105, \"div\", 45)(106, \"ul\", 46)(107, \"li\", 47)(108, \"a\", 3);\n        i0.ɵɵelement(109, \"i\", 48);\n        i0.ɵɵtext(110, \" Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(111, \"li\", 49)(112, \"a\", 3);\n        i0.ɵɵelement(113, \"i\", 50);\n        i0.ɵɵtext(114, \" Account\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(22);\n\n        const _r2 = i0.ɵɵreference(42);\n\n        const _r3 = i0.ɵɵreference(52);\n\n        const _r4 = i0.ɵɵreference(61);\n\n        const _r5 = i0.ɵɵreference(75);\n\n        const _r6 = i0.ɵɵreference(84);\n\n        const _r8 = i0.ɵɵreference(100);\n\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(22, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(23, _c1));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(24, _c2));\n        i0.ɵɵadvance(21);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.id);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"hidden\", _r2.valid || _r2.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.label);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"hidden\", _r3.valid || _r3.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.name);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"hidden\", _r4.valid || _r4.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.address1);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.address2);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"hidden\", _r5.valid || _r5.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.city);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"hidden\", _r6.valid || _r6.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.postal);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedCountry);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"hidden\", _r8.valid || _r8.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.phone);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(25, _c0));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(26, _c1));\n      }\n    },\n    dependencies: [i5.NgForOf, i6.ɵNgNoValidate, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.DefaultValueAccessor, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.NgModel, i6.NgForm, i1.RouterLinkWithHref],\n    encapsulation: 2\n  });\n  return AddAddressComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}