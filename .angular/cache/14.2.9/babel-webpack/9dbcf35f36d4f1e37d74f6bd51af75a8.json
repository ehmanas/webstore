{"ast":null,"code":"import { Library } from 'src/app/core/library';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/services/api.service\";\nimport * as i3 from \"src/app/core/services/private.service\";\nimport * as i4 from \"src/app/core/services/cart.service\";\nimport * as i5 from \"src/app/core/services/checkout.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\n\nfunction Checkout1Component_div_2_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"span\");\n    i0.ɵɵtext(2, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction Checkout1Component_div_2_li_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"span\");\n    i0.ɵɵtext(2, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction Checkout1Component_div_2_li_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"span\")(2, \"strong\", 56);\n    i0.ɵɵtext(3, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const address_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(address_r9.phone);\n  }\n}\n\nfunction Checkout1Component_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47)(2, \"div\", 48)(3, \"h3\", 49)(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 50)(7, \"ul\", 51)(8, \"li\")(9, \"span\")(10, \"strong\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(12, Checkout1Component_div_2_li_12_Template, 3, 0, \"li\", 52);\n    i0.ɵɵelementStart(13, \"li\")(14, \"span\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"li\")(17, \"span\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"li\")(20, \"span\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"li\")(23, \"span\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(25, Checkout1Component_div_2_li_25_Template, 3, 0, \"li\", 52);\n    i0.ɵɵtemplate(26, Checkout1Component_div_2_li_26_Template, 5, 1, \"li\", 52);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 53)(28, \"button\", 54);\n    i0.ɵɵlistener(\"click\", function Checkout1Component_div_2_Template_button_click_28_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const address_r9 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.validateShipAddress(address_r9));\n    });\n    i0.ɵɵelement(29, \"i\", 55);\n    i0.ɵɵtext(30, \" Validate\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const address_r9 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(address_r9.label);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(address_r9.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !address_r9.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(address_r9.address1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(address_r9.address2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", address_r9.postal, \" \", address_r9.city, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(address_r9.countryName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !address_r9.address2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !address_r9.phone);\n  }\n}\n\nfunction Checkout1Component_option_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 57);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const country_r16 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", country_r16);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(country_r16.name);\n  }\n}\n\nexport let Checkout1Component = /*#__PURE__*/(() => {\n  class Checkout1Component {\n    constructor(router, route, apiService, privateService, cartService, checkoutService) {\n      this.router = router;\n      this.route = route;\n      this.apiService = apiService;\n      this.privateService = privateService;\n      this.cartService = cartService;\n      this.checkoutService = checkoutService;\n      this.billAddressSelected = true;\n      this.address = {};\n      this.selectedCountry = {};\n      this.countries = [];\n    }\n\n    ngOnInit() {\n      this.checkoutService.clear();\n      this.sub = this.route.params.subscribe(params => {\n        this.address = {\n          label: 'My address'\n        };\n        this.apiService.getCountries().subscribe(countries => {\n          this.countries = countries;\n          this.selectedCountry = this.countries.filter(f => f.id === Library.currentCountryId)[0];\n        });\n      });\n    }\n\n    ngOnDestroy() {\n      if (this.sub) {\n        this.sub.unsubscribe();\n      }\n    }\n\n    validateShipAddress(address) {\n      this.checkoutService.setShipAddress(address);\n      this.router.navigate(['/checkout/checkout2']);\n    }\n\n    validateNewAddress() {\n      this.address.countryId = this.selectedCountry.id;\n      this.address.countryName = this.selectedCountry.name;\n      this.privateService.createUpdateAddress(this.address).subscribe(address => {\n        this.address = address;\n        this.checkoutService.setShipAddress(address);\n\n        if (this.billAddressSelected) {\n          this.checkoutService.setBillAddress(address);\n          this.router.navigate(['/checkout/checkout3']);\n        } else {\n          this.router.navigate(['/checkout/checkout2']);\n        }\n      }, error => {\n        console.log('ERROR ' + error);\n      });\n    }\n\n  }\n\n  Checkout1Component.ɵfac = function Checkout1Component_Factory(t) {\n    return new (t || Checkout1Component)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.PrivateService), i0.ɵɵdirectiveInject(i4.CartService), i0.ɵɵdirectiveInject(i5.CheckoutService));\n  };\n\n  Checkout1Component.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Checkout1Component,\n    selectors: [[\"app-checkout1\"]],\n    decls: 94,\n    vars: 18,\n    consts: [[1, \"container\"], [1, \"row\"], [\"class\", \"col-lg-4 col-md-4 my-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"justify-content-center\", \"mx-2\"], [3, \"ngSubmit\"], [\"addressForm\", \"ngForm\"], [1, \"row\", \"justify-content-center\"], [1, \"col-lg-12\", \"col-xs-6\"], [1, \"block-title-2\"], [1, \"required\"], [1, \"col-lg-12\", \"col-xs-12\", \"col-sm-12\"], [1, \"form-group\", \"required\"], [\"for\", \"addressLabel\"], [1, \"has-error\", 3, \"hidden\"], [\"type\", \"text\", \"value\", \"My address\", \"name\", \"label\", \"id\", \"addressLabel\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"label\", \"ngModel\"], [1, \"col-lg-6\", \"col-xs-6\", \"col-sm-12\"], [\"for\", \"InputName\"], [\"name\", \"name\", \"type\", \"text\", \"id\", \"InputName\", \"placeholder\", \"First Name, Last Name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"for\", \"InputAddress\"], [\"name\", \"address1\", \"type\", \"text\", \"id\", \"InputAddress\", \"placeholder\", \"Address\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"address1\", \"ngModel\"], [1, \"form-group\"], [\"for\", \"InputAddress2\"], [\"name\", \"address2\", \"type\", \"text\", \"id\", \"InputAddress2\", \"placeholder\", \"Address 2\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"InputCity\"], [\"name\", \"city\", \"type\", \"text\", \"id\", \"InputCity\", \"placeholder\", \"City\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"city\", \"ngModel\"], [\"for\", \"InputZip\"], [\"name\", \"postal\", \"type\", \"text\", \"id\", \"InputZip\", \"placeholder\", \"Postal\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"postal\", \"ngModel\"], [\"for\", \"InputCountry\"], [\"name\", \"selectedCountry\", \"id\", \"InputCountry\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"InputMobile\"], [\"type\", \"tel\", \"name\", \"phone\", \"id\", \"InputMobile\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"phone\", \"ngModel\"], [1, \"col-xs-6\", \"col-sm-12\"], [\"for\", \"checkbox\", 1, \"checkbox-inline\", 2, \"margin-bottom\", \"10px\"], [\"name\", \"checkboxes\", \"id\", \"checkbox\", \"value\", \"1\", \"type\", \"checkbox\", 3, \"ngModel\", \"ngModelChange\"], [1, \"contentFooter\"], [1, \"box-footer\"], [1, \"pull-right\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"fa\", \"fa-arrow-circle-right\", \"ml-2\"], [1, \"col-lg-4\", \"col-md-4\", \"my-2\"], [1, \"panel\", \"panel-default\"], [1, \"panel-heading\"], [1, \"panel-title\"], [1, \"panel-body\"], [1, \"list-inline\"], [4, \"ngIf\"], [1, \"panel-footer\", \"panel-footer-address\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"click\"], [1, \"fa\", \"fa-edit\"], [1, \"mr-2\"], [3, \"ngValue\"]],\n    template: function Checkout1Component_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, Checkout1Component_div_2_Template, 31, 10, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function Checkout1Component_Template_form_ngSubmit_4_listener() {\n          return ctx.validateNewAddress();\n        });\n        i0.ɵɵelementStart(6, \"div\", 6)(7, \"div\", 7)(8, \"h2\", 8);\n        i0.ɵɵtext(9, \" To add new address fill in this form\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"p\", 9)(11, \"sup\");\n        i0.ɵɵtext(12, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(13, \" Mandatory\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 10)(15, \"div\", 11)(16, \"label\", 12);\n        i0.ɵɵtext(17, \"Address Label\");\n        i0.ɵɵelementStart(18, \"sup\");\n        i0.ɵɵtext(19, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"em\", 13);\n        i0.ɵɵtext(21, \"Label is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"input\", 14, 15);\n        i0.ɵɵlistener(\"ngModelChange\", function Checkout1Component_Template_input_ngModelChange_22_listener($event) {\n          return ctx.address.label = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"div\", 16)(25, \"div\", 11)(26, \"label\", 17);\n        i0.ɵɵtext(27, \"Your First Name, Last Name\");\n        i0.ɵɵelementStart(28, \"sup\");\n        i0.ɵɵtext(29, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"em\", 13);\n        i0.ɵɵtext(31, \"Your name is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 18, 19);\n        i0.ɵɵlistener(\"ngModelChange\", function Checkout1Component_Template_input_ngModelChange_32_listener($event) {\n          return ctx.address.name = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"div\", 11)(35, \"label\", 20);\n        i0.ɵɵtext(36, \"Address \");\n        i0.ɵɵelementStart(37, \"sup\");\n        i0.ɵɵtext(38, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"em\", 13);\n        i0.ɵɵtext(40, \"Your address is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"input\", 21, 22);\n        i0.ɵɵlistener(\"ngModelChange\", function Checkout1Component_Template_input_ngModelChange_41_listener($event) {\n          return ctx.address.address1 = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"div\", 23)(44, \"label\", 24);\n        i0.ɵɵtext(45, \"Address 2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"input\", 25);\n        i0.ɵɵlistener(\"ngModelChange\", function Checkout1Component_Template_input_ngModelChange_46_listener($event) {\n          return ctx.address.address2 = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(47, \"div\", 16)(48, \"div\", 11)(49, \"label\", 26);\n        i0.ɵɵtext(50, \"City \");\n        i0.ɵɵelementStart(51, \"sup\");\n        i0.ɵɵtext(52, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(53, \"em\", 13);\n        i0.ɵɵtext(54, \"Your city is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"input\", 27, 28);\n        i0.ɵɵlistener(\"ngModelChange\", function Checkout1Component_Template_input_ngModelChange_55_listener($event) {\n          return ctx.address.city = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(57, \"div\", 11)(58, \"label\", 29);\n        i0.ɵɵtext(59, \"Postal \");\n        i0.ɵɵelementStart(60, \"sup\");\n        i0.ɵɵtext(61, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(62, \"em\", 13);\n        i0.ɵɵtext(63, \"Your postal is mandatory\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"input\", 30, 31);\n        i0.ɵɵlistener(\"ngModelChange\", function Checkout1Component_Template_input_ngModelChange_64_listener($event) {\n          return ctx.address.postal = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(66, \"div\", 11)(67, \"label\", 32);\n        i0.ɵɵtext(68, \"Country \");\n        i0.ɵɵelementStart(69, \"sup\");\n        i0.ɵɵtext(70, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(71, \"select\", 33);\n        i0.ɵɵlistener(\"ngModelChange\", function Checkout1Component_Template_select_ngModelChange_71_listener($event) {\n          return ctx.selectedCountry = $event;\n        });\n        i0.ɵɵtemplate(72, Checkout1Component_option_72_Template, 2, 2, \"option\", 34);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(73, \"div\", 11)(74, \"label\", 35);\n        i0.ɵɵtext(75, \"Phone \");\n        i0.ɵɵelementStart(76, \"sup\");\n        i0.ɵɵtext(77, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(78, \"em\", 13);\n        i0.ɵɵtext(79, \"Phone is mandatory for delivery\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(80, \"input\", 36, 37);\n        i0.ɵɵlistener(\"ngModelChange\", function Checkout1Component_Template_input_ngModelChange_80_listener($event) {\n          return ctx.address.phone = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(82, \"div\", 38)(83, \"label\", 39);\n        i0.ɵɵtext(84, \" \\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(85, \"input\", 40);\n        i0.ɵɵlistener(\"ngModelChange\", function Checkout1Component_Template_input_ngModelChange_85_listener($event) {\n          return ctx.billAddressSelected = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(86, \" Bill address is the same then the delivery one \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(87, \"div\", 41)(88, \"div\", 42)(89, \"div\", 43)(90, \"button\", 44);\n        i0.ɵɵtext(91, \"Validate\");\n        i0.ɵɵelement(92, \"i\", 45);\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelement(93, \"div\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(5);\n\n        const _r2 = i0.ɵɵreference(23);\n\n        const _r3 = i0.ɵɵreference(33);\n\n        const _r4 = i0.ɵɵreference(42);\n\n        const _r5 = i0.ɵɵreference(56);\n\n        const _r6 = i0.ɵɵreference(65);\n\n        const _r8 = i0.ɵɵreference(81);\n\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.privateService.addresses);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"hidden\", _r2.valid || _r2.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.label);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"hidden\", _r3.valid || _r3.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.name);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"hidden\", _r4.valid || _r4.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.address1);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.address2);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"hidden\", _r5.valid || _r5.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.city);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"hidden\", _r6.valid || _r6.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.postal);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedCountry);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"hidden\", _r8.valid || _r8.pristine);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.address.phone);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.billAddressSelected);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", !_r1.form.valid);\n      }\n    },\n    dependencies: [i6.NgForOf, i6.NgIf, i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.CheckboxControlValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.NgModel, i7.NgForm]\n  });\n  return Checkout1Component;\n})();","map":null,"metadata":{},"sourceType":"module"}